# vibium v1.5

v1 shipped in december. since then: 145 commits, a ton of bug fixes, and a completely new feature set. this is the biggest update since launch.

here's what's new.

---

## tracing

record everything your automation does and replay it in a visual timeline. compatible with the [Playwright trace viewer](https://trace.playwright.dev).

```javascript
const ctx = await bro.newContext()
const vibe = await ctx.newPage()

await ctx.tracing.start({ screenshots: true, snapshots: true })
await vibe.go('https://example.com')
await vibe.find('a').click()
const zip = await ctx.tracing.stop({ path: 'trace.zip' })
```

open `trace.zip` in [trace.vibium.dev](https://trace.vibium.dev) or [trace.playwright.dev](https://trace.playwright.dev) — you get a full timeline with screenshots, DOM snapshots, network waterfall, and action markers.

**action groups** let you label sections of your trace:

```javascript
await ctx.tracing.startGroup('login flow')
await vibe.find('#user').fill('admin')
await vibe.find('#pass').fill('secret')
await vibe.find('button').click()
await ctx.tracing.stopGroup()
```

**chunks** split a long trace into segments without stopping:

```javascript
await ctx.tracing.start()
// ... do stuff ...
const chunk1 = await ctx.tracing.stopChunk()
await ctx.tracing.startChunk({ name: 'part-2' })
// ... do more stuff ...
const chunk2 = await ctx.tracing.stopChunk()
```

also available in Python:

```python
await ctx.tracing.start(screenshots=True, snapshots=True)
await vibe.go("https://example.com")
await ctx.tracing.stop(path="trace.zip")
```

---

## semantic find

find elements by what they *are*, not just their CSS selectors.

```javascript
await vibe.find({ role: 'button', text: 'Submit' }).click()
await vibe.find({ role: 'link', text: 'Sign up' }).click()
await vibe.find({ label: 'Email address' }).fill('me@example.com')
await vibe.find({ placeholder: 'Search...' }).type('vibium')
```

all find strategies: `role`, `text`, `label`, `placeholder`, `alt`, `title`, `testid`, `xpath`, `near`. combine them freely — `find({ role: 'button', text: 'Login' })` intersects both.

also works from the CLI:

```bash
vibium find --role button --text "Submit"
vibium click --role link --text "Sign up"
```

---

## network events & routing

intercept, mock, and observe network traffic.

```javascript
// mock an API
await vibe.route('**/api/users', route => {
  route.fulfill({ status: 200, body: JSON.stringify([{ name: 'test' }]) })
})

// observe requests
vibe.onRequest(req => console.log(req.method(), req.url()))
vibe.onResponse(resp => console.log(resp.status(), resp.url()))
```

network events also show up in traces — the network tab in the trace viewer shows every request with timing, headers, and status.

---

## expect & capture

renamed from `waitFor` — clearer intent, more capabilities.

```javascript
// wait for navigation to complete
const response = await vibe.capture.navigation(async () => {
  await vibe.find('a').click()
})

// wait for a download
const download = await vibe.capture.download(async () => {
  await vibe.find('#download-btn').click()
})

// wait for a dialog
const dialog = await vibe.capture.dialog(async () => {
  await vibe.eval('confirm("are you sure?")')
})
```

---

## cookies & storage

full cookie management via browser contexts.

```javascript
const ctx = await bro.newContext()
const vibe = await ctx.newPage()

await ctx.setCookies([{ name: 'token', value: 'abc123', url: 'https://example.com' }])
const cookies = await ctx.cookies()
await ctx.clearCookies()
```

---

## clock control

freeze, fast-forward, and manipulate time in the browser.

```javascript
await vibe.clock.install()
await vibe.clock.setFixedTime(new Date('2025-01-01'))

const year = await vibe.eval('new Date().getFullYear()')
// → 2025

await vibe.clock.fastForward(60000) // skip 1 minute
await vibe.clock.setTimezone('Asia/Tokyo')
```

---

## accessibility

query the accessibility tree and element roles.

```javascript
const tree = await vibe.a11yTree()
console.log(tree)  // full accessibility tree

const btn = await vibe.find('button')
console.log(await btn.role())   // → 'button'
console.log(await btn.label())  // → 'Submit'
```

---

## window management

control the browser window position and size.

```javascript
const win = await vibe.window()
// → { x: 0, y: 0, width: 1280, height: 720, state: 'normal' }

await vibe.setWindow({ width: 375, height: 812 })  // mobile size
await vibe.setWindow({ state: 'maximized' })
```

also from the CLI:

```bash
vibium window                              # show current bounds
vibium set-window --width 375 --height 812 # resize
```

---

## console & errors

capture browser console output and JavaScript errors.

```javascript
vibe.onConsole(msg => console.log(msg.text()))
vibe.onError(err => console.log(err.message))

// or collect them all at once
const messages = await vibe.consoleMessages()
const errors = await vibe.errors()
```

---

## python client

the Python client now has full parity with JS — sync and async.

```python
# sync
from vibium import browser_sync
bro = browser_sync.launch()
vibe = bro.new_page()
vibe.go("https://example.com")
vibe.find(role="button", text="Submit").click()
bro.close()

# async
from vibium import browser
bro = await browser.launch()
vibe = await bro.new_page()
await vibe.go("https://example.com")
await bro.close()
```

network events, tracing, cookies, dialogs, console — all available in both sync and async Python.

---

## js sync client

the sync JS client now covers the full API too.

```javascript
import { browser } from 'vibium/sync'

const bro = browser.launch()
const vibe = bro.newPage()
vibe.go('https://example.com')
vibe.find({ role: 'link' }).click()
console.log(vibe.url())
bro.close()
```

---

## 83 CLI commands

every command now works from the terminal. useful for shell scripts, CI pipelines, and AI agents.

```bash
vibium go https://example.com
vibium find --css "h1"
vibium click --role button --text "Login"
vibium screenshot --output page.png
vibium eval "document.title"
vibium map                      # discover all interactive elements
vibium map --selector "nav"     # scoped to a section
```

---

## bug fixes

- fixed browser left open on Ctrl+C — process exit handlers now clean up properly
- fixed Windows zombie Chrome/chromedriver processes (#78)
- fixed Chrome temp profile directory leak on close
- cleaned up orphaned Chrome for Testing temp directories
- fixed WebSocket frame size limit (now 10MB)
- fixed sync API process hang and route handler callback failures
- fixed Python sync API: removed misleading route post_data, added error handling to event callbacks
- fixed Python websockets deprecation warnings
- fixed Python platform packages not including clicker binaries
- fixed BiDi error response parsing to follow WebDriver BiDi spec
- fixed MCP server compatibility with Claude Desktop (#42)
- fixed CLI arguments not being forwarded to clicker binary
- fixed npm install failing due to missing version in root package.json
- fixed Makefile for GnuWin32 Make 3.81 on Windows
- disabled Chrome password manager and leak detection prompts
- suppressed macOS notification permission dialog on Chrome launch
- required Chrome for Testing, removed unreliable system Chrome fallback

---

## what's next

working on network interception improvements, video recording, and more AI-native features (`page.do()`, `page.check()`). see the [V2 roadmap](../reference/V2-ROADMAP.md) for the full picture.

---

*february 22, 2026*
